{"version":3,"sources":["components/Auth/Login.module.css","components/Cart/Checkout.module.css","components/Meals/MealItem/MealItem.module.css","components/Cart/Cart.module.css","components/Cart/CartItem/CartItem.module.css","components/Layout/Header.module.css","components/UI/HeaderButton.module.css","components/Layout/SideMenu.module.css","components/Meals/AvailableMeals.module.css","components/UI/Modal.module.css","components/UI/Input.module.css","components/Orders/OrderSummery.module.css","components/Layout/Burger.module.css","components/Meals/MealsSummary.module.css","components/UI/Card.module.css","components/Meals/MealItem/MealItemForm.module.css","components/UI/Loader.module.css","components/Orders/Orders.module.css","store/cart-context.js","components/UI/Modal.js","components/Cart/CartItem/CartItem.js","store/user-context.js","components/Cart/Checkout.js","model/UserModel.js","components/Cart/Cart.js","assets/food-table2.jpg","components/Cart/CartIcon.js","components/UI/HeaderButton.js","components/Layout/HeaderCartButton.js","components/Auth/HeaderLoginButton.js","components/Layout/Burger.js","assets/LogoutIcon.js","assets/FoodBagIcon.js","assets/MealsIcon.js","components/Layout/SideMenu.js","assets/LoginIcon.js","components/Layout/Header.js","components/Meals/MealsSummery.js","components/UI/Card.js","assets/food-table.jpg","components/UI/Input.js","components/Meals/MealItem/MealItemForm.js","components/Meals/MealItem/MealItem.js","components/Meals/AvailableMeals.js","components/Meals/Meals.js","store/CartProvider.js","components/UI/Loader.js","components/Auth/Login.js","model/OrdersModel.js","components/Orders/OrderSummery.js","components/Orders/Orders.js","App.js","store/UserProvider.js","reportWebVitals.js","index.js"],"names":["module","exports","cartContext","React","createContext","items","totalAmount","addItem","removeItem","id","clearCart","Backdrop","props","className","classes","backdrop","onClick","onClose","ModalOverlay","modal","content","children","portalElement","document","getElementById","Modal","ReactDOM","createPortal","CartItem","price","toFixed","name","summary","amount","actions","onRemove","onAdd","userContext","email","photoUrl","token","street","city","postal","isLoggedIn","setUser","clearUser","updateUser","isEmpty","value","trim","Checkout","userCtx","useContext","useState","setName","setPostal","setStreet","setCity","nameInputRef","useRef","streetInputRef","postalInputRef","cityInputRef","formInputValidity","setFormInputValidity","form","onSubmit","event","preventDefault","enteredName","current","enteredStreet","enteredPostal","enteredCity","nameValid","streetValid","cityValid","postalValid","length","onConfirm","control","invalid","htmlFor","ref","onChange","newVal","target","type","totalClasses","onCancel","submit","UserModel","addUserToRealTime","userData","fetch","method","body","JSON","stringify","updateUserToRealTime","getUserfromRealTime","Cart","isCheckout","setIsCheckout","isSubmitting","setIsSubmitting","didSubmit","setDidSubmit","cartCtx","itemsAmount","reduce","counter","item","removeItemHandler","addItemHandler","submitOrderHandler","a","user_id","orderedItems","cartItems","map","bind","modalActions","button","showLogin","cartModalContent","total","isSubmittingModalContent","didSubmitModalContent","CartIcon","xmlns","viewBox","fill","d","HeaderButton","buttonClasses","bump","showBadge","badge","badgeBumber","icon","title","HeaderCartButton","setBump","numberOfCartItems","curNumber","useEffect","timer","setTimeout","clearTimeout","HeaderGeneralButton","Burger","addedClasses","burger","open","clicked","LogoutIcon","version","x","y","FoodBagIcon","MealsIcon","data-name","SideMenu","history","useHistory","inOrdersPage","useLocation","pathname","goToOrders","onCloseMenu","push","firebase","auth","signOut","catch","err","console","log","then","LoginIcon","Header","isMenuOpen","setIsMenuOpen","setIsLoggedIn","onMenuClickHandler","header","onShowLogin","onShowCart","src","headerImage","alt","MealsSummery","Card","card","Input","forwardRef","inputClasses","input","label","MealItemForm","amountIsValid","setAmountIsValid","amountInputRef","min","max","step","defaultValue","enteredAmount","enteredAmountNumber","onAddToCart","MealItem","mouseDown","setMouseDown","liClasses","handleMouseMovement","onMouseDown","onMouseLeave","onMouseUp","image","description","AvailableMeals","allMeals","setAllMeals","isLoading","setIsLoading","error","setError","response","ok","Error","json","meals","tempAllMeals","Object","keys","forEach","mealId","category","fetchMeals","message","MealsLoading","MealsError","mealsByCategory","meal","categoriesForUI","inertiaScrollingSlowdown","inertiaScrolling","alignOnResize","wheel","data","Meals","defaultCartState","cartReducer","state","action","updatedItems","updatedItem","newTotalAmount","existingCartItemIndex","findIndex","existingCartItem","concat","filter","CartProvider","useReducer","cartState","dispatchCartAction","Provider","Loader","loader","isEmail","val","test","passwordValid","password","notEmpty","Login","isLogin","setIsLogin","isLoggingIn","setIsLoggingIn","errorText","setErrorText","emailInvalid","setEmailInvalid","passwordInvalid","setPasswordInvalid","confirmPasswordInvalid","setConfirmPasswordInvalid","firstNameInvalid","setFirstNameInvalid","lastNameInvalid","setLastNameInvalid","passwordRef","emailRef","confimPasswordRef","firstNameRef","lastNameRef","resetForm","isLoginFormValid","emailIsValid","passwordIsValid","isRegisterFormValid","confirmPassword","firstName","lastName","confirmPasswordIsValid","confirmPasswordValid","firstNameIsValid","lastNameIsValid","loginHandler","signInWithEmailAndPassword","loginResponse","user","getIdTokenResult","tokenData","expirationTime","Date","uid","displayName","registerHandler","createUserWithEmailAndPassword","registerResponse","getIdToken","updateProfile","currentUser","first_name","last_name","registerInputs","required","minLength","disabled","userObject","toggle","prevState","OrdersModel","getOrdersByUserId","OrderSummery","totalCost","Orders","orders","setOrders","getOrders","useCallback","ordersResponse","responseJson","currentOrders","orderId","ordersContent","i","ordersSummeryClasses","App","logoutTimer","cartIsShown","setCartIsShown","loginIsShown","setLoginIsShown","apps","app","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","showLoginHandler","path","exact","to","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","defaultUserData","userReducer","updatedUser","localStorage","setItem","calculateRemainingTime","currentTime","getTime","UserProvider","initialUser","storedUserAndExpToken","storedUser","getItem","parse","storedExpirationDate","remainingTime","duration","retrieveStoredToken","isUserLoggedIn","defaultOfStorageUser","userState","dispatchUserAction","clearUserHandler","render","StrictMode"],"mappings":"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","file":"static/js/main.1e759b03.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"auth\":\"Login_auth__1wSgo\",\"title\":\"Login_title__2faVR\",\"control\":\"Login_control__2Q3aK\",\"actions\":\"Login_actions__3Jqmi\",\"toggle\":\"Login_toggle__2G2DW\",\"error-text\":\"Login_error-text__oiLj6\",\"login-button\":\"Login_login-button__1I4A_\",\"disabled\":\"Login_disabled__3o1qr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Checkout_form__12Seq\",\"control\":\"Checkout_control__1n3LX\",\"actions\":\"Checkout_actions__ykSBS\",\"submit\":\"Checkout_submit__3a-pZ\",\"invalid\":\"Checkout_invalid__x2cxK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meal-item\":\"MealItem_meal-item__rhuqB\",\"meal-header\":\"MealItem_meal-header__2DsEw\",\"meal-name\":\"MealItem_meal-name__AEJy_\",\"meal-price\":\"MealItem_meal-price__2EZhJ\",\"meal-data\":\"MealItem_meal-data__3oAEy\",\"meal-description\":\"MealItem_meal-description__3XfmH\",\"meal-image-box\":\"MealItem_meal-image-box__2I5bC\",\"meal-image\":\"MealItem_meal-image__2FYAm\",\"mouse-down-active\":\"MealItem_mouse-down-active__NkCYh\",\"meal-bottom\":\"MealItem_meal-bottom__3O5Uq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-items\":\"Cart_cart-items__9j49B\",\"total\":\"Cart_total__27NRI\",\"actions\":\"Cart_actions__2AvFL\",\"button--alt\":\"Cart_button--alt__1irjg\",\"button\":\"Cart_button__Bs5qT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-item\":\"CartItem_cart-item__18CS3\",\"summary\":\"CartItem_summary__2P5Q_\",\"price\":\"CartItem_price__2m1rt\",\"amount\":\"CartItem_amount__1333W\",\"actions\":\"CartItem_actions__S8miy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__28Qr5\",\"left-button\":\"Header_left-button__vSreL\",\"right-button\":\"Header_right-button__I8oWG\",\"main-image\":\"Header_main-image__1qTPr\",\"title\":\"Header_title__1bOa4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"HeaderButton_button__1iTVt\",\"icon\":\"HeaderButton_icon__3NaCw\",\"badge\":\"HeaderButton_badge__2QUuE\",\"bump\":\"HeaderButton_bump__1g9kk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"side-menu\":\"SideMenu_side-menu__2y4f8\",\"open\":\"SideMenu_open__1yRb6\",\"menu-text\":\"SideMenu_menu-text__8Vfqa\",\"title\":\"SideMenu_title__3JT2w\",\"buttons-space\":\"SideMenu_buttons-space__3-ItB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meals\":\"AvailableMeals_meals__203nQ\",\"meals-appear\":\"AvailableMeals_meals-appear__3llX6\",\"MealsLoading\":\"AvailableMeals_MealsLoading__EAI0m\",\"MealsError\":\"AvailableMeals_MealsError__28Mh8\",\"category\":\"AvailableMeals_category__61WtX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__3qHT3\",\"modal\":\"Modal_modal__37VW4\",\"slide-down\":\"Modal_slide-down__20bTz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Input_input__eX3xK\",\"invalid\":\"Input_invalid__2QICF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"summary\":\"OrderSummery_summary__hzmwZ\",\"summery-items\":\"OrderSummery_summery-items__djTQv\",\"summery-total\":\"OrderSummery_summery-total__3lJGy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"burger\":\"Burger_burger__33UkP\",\"bureger\":\"Burger_bureger__xCWsJ\",\"clicked\":\"Burger_clicked__1ULwr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"summary\":\"MealsSummary_summary__1LJRp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__2aCor\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"MealItemForm_form__3fU5V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1jPiA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"first-summery\":\"Orders_first-summery__gw7Dg\"};","import React from 'react';\r\n\r\nconst cartContext = React.createContext({\r\n    items: [],\r\n    totalAmount: 0,\r\n    addItem: () => {},\r\n    removeItem: (id) => {},\r\n    clearCart: () => {}\r\n});\r\n\r\nexport default cartContext;","import { Fragment } from \"react\";\r\nimport classes from \"./Modal.module.css\";\r\nimport ReactDOM from \"react-dom\"\r\nconst Backdrop = (props) => {\r\n  return <div className={classes.backdrop} onClick={props.onClose}></div>;\r\n};\r\nconst ModalOverlay = (props) => {\r\n  return (\r\n    <div className={classes.modal}>\r\n      <div className={classes.content}>{props.children}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst portalElement = document.getElementById('overlays');\r\nconst Modal = (props) => {\r\n    return <Fragment>\r\n        {ReactDOM.createPortal(<Backdrop onClose={props.onClose}/>, portalElement)}\r\n        {ReactDOM.createPortal(<ModalOverlay>{props.children}</ModalOverlay>, portalElement)}\r\n    </Fragment>\r\n};\r\n\r\nexport default Modal;\r\n","import classes from \"./CartItem.module.css\";\r\n\r\nconst CartItem = (props) => {\r\n  const price = `$${props.price.toFixed(2)}`;\r\n\r\n  return (\r\n    <li className={classes[\"cart-item\"]}>\r\n      <div>\r\n        <h2>{props.name}</h2>\r\n        <div className={classes.summary}>\r\n          <span className={classes.price}>{price}</span>\r\n          <span className={classes.amount}>x {props.amount}</span>\r\n        </div>\r\n      </div>\r\n      <div className={classes.actions}>\r\n        <button onClick={props.onRemove}>−</button>\r\n        <button onClick={props.onAdd}>+</button>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default CartItem;\r\n","import React from 'react';\r\n\r\nconst userContext = React.createContext({\r\n    id: null,\r\n    name: null,\r\n    email: null,\r\n    photoUrl: null,\r\n    token: null,\r\n    street: null,\r\n    city: null,\r\n    postal: null,\r\n    isLoggedIn: false,\r\n    setUser: () => {},\r\n    clearUser: () => {},\r\n    updateUser: () => {}\r\n});\r\n\r\nexport default userContext;","import { useContext, useRef, useState } from 'react';\r\nimport classes from './Checkout.module.css';\r\nimport userContext from '../../store/user-context';\r\n\r\nconst isEmpty = value => value.trim() === '';\r\nconst isNot5Chars = value => value.trim().length !== 5;\r\n\r\nconst Checkout = (props) => {\r\n    const userCtx = useContext(userContext);\r\n    const [name, setName] = useState(userCtx.name || '');\r\n    const [postal, setPostal] = useState(userCtx.postal || '');\r\n    const [street, setStreet] = useState(userCtx.street || '');\r\n    const [city, setCity] = useState(userCtx.city || '');\r\n    \r\n    const nameInputRef = useRef()\r\n    const streetInputRef = useRef()\r\n    const postalInputRef = useRef()\r\n    const cityInputRef = useRef()\r\n\r\n    const [formInputValidity, setFormInputValidity] = useState({\r\n        name: true,\r\n        street: true,\r\n        city: true,\r\n        postal: true\r\n    })\r\n  const confirmHandler = (event) => {\r\n    event.preventDefault();\r\n    const enteredName = nameInputRef.current.value;\r\n    const enteredStreet = streetInputRef.current.value;\r\n    const enteredPostal = postalInputRef.current.value;\r\n    const enteredCity = cityInputRef.current.value;\r\n\r\n    const nameValid = !isEmpty(enteredName);\r\n    const streetValid = !isEmpty(enteredStreet);\r\n    const cityValid = !isEmpty(enteredCity);\r\n    const postalValid = !isNot5Chars(enteredPostal);\r\n\r\n    setFormInputValidity({name: nameValid, street: streetValid, city: cityValid, postal: postalValid});\r\n    const formIsValid = nameValid && streetValid && cityValid && postalValid;\r\n    if (!formIsValid) {\r\n        return;\r\n    }\r\n    props.onConfirm({\r\n        name: enteredName,\r\n        street: enteredStreet,\r\n        city: enteredCity,\r\n        postal: enteredPostal\r\n    })\r\n\r\n  };\r\n\r\n  return (\r\n    <form className={classes.form} onSubmit={confirmHandler}>\r\n      <div className={`${classes.control} ${formInputValidity.name ? '' : classes.invalid}`}>\r\n        <label htmlFor='name'>Your Name</label>\r\n        <input ref={nameInputRef} value={name} onChange={(newVal) => {setName(newVal.target.value)}} type='text' id='name' />\r\n        {!formInputValidity.name && <p>Please enter a valid name!</p>}\r\n      </div>\r\n      <div className={`${classes.control} ${formInputValidity.street ? '' : classes.invalid}`}>\r\n        <label htmlFor='street'>Street</label>\r\n        <input ref={streetInputRef} value={street} onChange={(newVal) => {setStreet(newVal.target.value)}}  type='text' id='street' />\r\n        {!formInputValidity.street && <p>Please enter a valid street!</p>}\r\n      </div>\r\n      <div className={`${classes.control} ${formInputValidity.postal ? '' : classes.invalid}`}>\r\n        <label htmlFor='postal'>Postal Code</label>\r\n        <input ref={postalInputRef} value={postal} onChange={(newVal) => {setPostal(newVal.target.value)}}  type='text' id='postal' />\r\n        {!formInputValidity.postal && <p>Please enter a valid postal code!</p>}\r\n      </div>\r\n      <div className={`${classes.control} ${formInputValidity.city ? '' : classes.invalid}`}>\r\n        <label htmlFor='city'>City</label>\r\n        <input ref={cityInputRef} value={city} onChange={(newVal) => {setCity(newVal.target.value)}}  type='text' id='city' />\r\n        {!formInputValidity.city && <p>Please enter a valid city!</p>}\r\n      </div>\r\n      <div className={props.totalClasses}>\r\n        <span>Total Amount</span>\r\n        <span>{props.totalAmount}</span>\r\n      </div>\r\n      <div className={classes.actions}>\r\n        <button type='button' onClick={props.onCancel}>\r\n          Cancel\r\n        </button>\r\n        <button className={classes.submit}>Confirm</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Checkout;","const UserModel = {\r\n\r\n  async addUserToRealTime(id, userData) {\r\n    await fetch(\r\n      `https://order-it-6fb76-default-rtdb.europe-west1.firebasedatabase.app/users/${id}.json`,\r\n      {\r\n        method: \"PUT\",\r\n        body: JSON.stringify(userData),\r\n      }\r\n    );\r\n  },\r\n  async updateUserToRealTime(id, userData) {\r\n    await fetch(\r\n      `https://order-it-6fb76-default-rtdb.europe-west1.firebasedatabase.app/users/${id}.json`,\r\n      {\r\n        method: \"PATCH\",\r\n        body: JSON.stringify(userData),\r\n      }\r\n    );\r\n  },\r\n  async getUserfromRealTime(id) {\r\n    return await fetch(\r\n      `https://order-it-6fb76-default-rtdb.europe-west1.firebasedatabase.app/users/${id}.json`\r\n    );\r\n  },\r\n};\r\nexport default UserModel;\r\n","import { Fragment, useContext, useState } from \"react\";\r\nimport cartContext from \"../../store/cart-context\";\r\nimport Modal from \"../UI/Modal\";\r\nimport classes from \"./Cart.module.css\";\r\nimport CartItem from \"./CartItem/CartItem\";\r\nimport Checkout from \"./Checkout\";\r\nimport UserModel from '../../model/UserModel';\r\nimport userContext from \"../../store/user-context\";\r\n\r\nconst Cart = (props) => {\r\n  const [isCheckout, setIsCheckout] = useState(false);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [didSubmit, setDidSubmit] = useState(false);\r\n\r\n  const cartCtx = useContext(cartContext);\r\n  const userCtx = useContext(userContext);\r\n\r\n  const isLoggedIn = userCtx.isLoggedIn;\r\n  const totalAmount = `$${cartCtx.totalAmount.toFixed(2)}`;\r\n  const itemsAmount = cartCtx.items.reduce(\r\n    (counter, item) => counter + item.amount,\r\n    0\r\n  );\r\n\r\n  const removeItemHandler = (id) => {\r\n    cartCtx.removeItem(id);\r\n  };\r\n\r\n  const addItemHandler = (item) => {\r\n    cartCtx.addItem({ ...item, amount: 1 });\r\n  };\r\n  const orderHandler = () => {\r\n    setIsCheckout(true);\r\n  };\r\n  const submitOrderHandler = async (userData) => {\r\n    setIsSubmitting(true);\r\n    await fetch(\r\n      \"https://order-it-6fb76-default-rtdb.europe-west1.firebasedatabase.app/orders.json\",\r\n      {\r\n        method: \"POST\",\r\n        body: JSON.stringify({ user_id: userCtx.id, orderedItems: cartCtx.items }),\r\n      }\r\n    );\r\n    await UserModel.updateUserToRealTime(userCtx.id, userData);\r\n    userCtx.updateUser(userData);\r\n    setIsSubmitting(false);\r\n    setDidSubmit(true);\r\n    cartCtx.clearCart()\r\n  };\r\n  const loginHandler = () => {\r\n    props.onClose();\r\n    props.showLogin();\r\n  }\r\n  const cartItems = (\r\n    <ul className={classes[\"cart-items\"]}>\r\n      {cartCtx.items.map((item) => (\r\n        <CartItem\r\n          key={item.id}\r\n          name={item.name}\r\n          amount={item.amount}\r\n          price={item.price}\r\n          onRemove={removeItemHandler.bind(null, item.id)}\r\n          onAdd={addItemHandler.bind(null, item)}\r\n        ></CartItem>\r\n      ))}\r\n    </ul>\r\n  );\r\n\r\n  const modalActions = (\r\n    <div className={classes.actions}>\r\n      <button onClick={props.onClose} className={classes[\"button--alt\"]}>\r\n        Close\r\n      </button>\r\n      {!isLoggedIn && <button className={classes.button} onClick={loginHandler}>Please Login to order</button>}\r\n      {isLoggedIn && itemsAmount > 0 && (\r\n        <button className={classes.button} onClick={orderHandler}>\r\n          Order\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n  const cartModalContent = (\r\n    <Fragment>\r\n       {isCheckout ? (\r\n        <Checkout totalAmount={totalAmount} totalClasses={classes.total} onConfirm={submitOrderHandler} onCancel={props.onClose} />\r\n      ) : (<Fragment>{cartItems}\r\n      <div className={classes.total}>\r\n        <span>Total Amount</span>\r\n        <span>{totalAmount}</span>\r\n      </div></Fragment>)\r\n      }\r\n      {!isCheckout && modalActions}\r\n    </Fragment>\r\n  );\r\n\r\n  const isSubmittingModalContent = <p> Sending order data...</p>;\r\n  const didSubmitModalContent = (\r\n    <Fragment>\r\n      <p>Order Sent!</p>\r\n      <div className={classes.actions}>\r\n        <button onClick={props.onClose} className={classes[\"button\"]}>\r\n          Close\r\n        </button>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n  return (\r\n    <Modal onClose={props.onClose}>\r\n      {!isSubmitting && !didSubmit && cartModalContent}\r\n      {!isSubmitting && didSubmit && didSubmitModalContent}\r\n      {isSubmitting && isSubmittingModalContent}\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","export default __webpack_public_path__ + \"static/media/food-table2.fa348454.jpg\";","const CartIcon = () => {\r\n    return (\r\n      <svg\r\n        xmlns='http://www.w3.org/2000/svg'\r\n        viewBox='0 0 20 20'\r\n        fill='currentColor'\r\n      >\r\n        <path d='M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z' />\r\n      </svg>\r\n    );\r\n  };\r\n  \r\n  export default CartIcon;","import { Fragment } from 'react';\r\nimport classes from './HeaderButton.module.css';\r\n\r\nconst HeaderButton = (props) => {\r\n  const buttonClasses = classes.button + ' ' + props.className + (props.bump ? ` ${classes.bump}` : \"\");\r\n  return <Fragment>{props.showBadge && <span className={classes.badge}> {props.badgeBumber} </span>}<button className={buttonClasses} onClick={props.onClick}>\r\n    <span className={classes.icon}>\r\n      {props.children}\r\n    </span>\r\n    <span> {props.title} </span>\r\n  </button>\r\n  </Fragment>;\r\n};\r\n\r\nexport default HeaderButton;\r\n","import { useContext, useEffect, useState } from \"react\";\r\nimport cartContext from \"../../store/cart-context\";\r\n\r\nimport CartIcon from \"../Cart/CartIcon\";\r\nimport HeaderButton from \"../UI/HeaderButton\";\r\n\r\nconst HeaderCartButton = (props) => {\r\n  const [bump, setBump] = useState(false);\r\n  const cartCtx = useContext(cartContext);\r\n  const { items } = cartCtx;\r\n\r\n  const numberOfCartItems = items.reduce((curNumber, item) => {\r\n    return curNumber + item.amount;\r\n  }, 0);\r\n  useEffect(() => {\r\n    if (items.length === 0) {\r\n      return;\r\n    }\r\n    setBump(true);\r\n    const timer = setTimeout(() => setBump(false), 300);\r\n\r\n    return () => {\r\n      clearTimeout(timer);\r\n    };\r\n  }, [items]);\r\n\r\n  return (\r\n    <HeaderButton\r\n      className={props.className}\r\n      title=\"Cart\"\r\n      showBadge={true}\r\n      badgeBumber={numberOfCartItems}\r\n      bump={bump}\r\n      onClick={props.onClick}\r\n    >\r\n      <CartIcon></CartIcon>\r\n    </HeaderButton>\r\n  );\r\n};\r\n\r\nexport default HeaderCartButton;\r\n","import HeaderButton from \"../UI/HeaderButton\";\r\n\r\nconst HeaderGeneralButton = (props) => {\r\n  return (\r\n      <HeaderButton className={props.className} title={props.title} onClick={props.onClick}>\r\n        {props.icon}\r\n      </HeaderButton> \r\n  );\r\n};\r\n\r\nexport default HeaderGeneralButton;\r\n","import classes from \"./Burger.module.css\";\r\n\r\nconst Burger = (props) => {\r\n  const addedClasses =\r\n    classes.burger + \" \" + (props.open ? classes.clicked : \"\");\r\n  return (\r\n    <div onClick={props.onClick} className={addedClasses}>\r\n      <div />\r\n      <div />\r\n      <div />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Burger;\r\n","const LogoutIcon = () => {\r\n  return (\r\n    <svg\r\n      version=\"1.1\"\r\n      id=\"Capa_1\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      x=\"0px\"\r\n      y=\"0px\"\r\n      viewBox=\"0 0 489.9 489.9\"\r\n      fill=\"currentColor\"\r\n    >\r\n      <g>\r\n        <g>\r\n          <g>\r\n            <path\r\n              d=\"M468.3,255.8c0.1-0.1,0.1-0.1,0.2-0.2c0.3-0.4,0.6-0.7,0.8-1.1c0.1-0.1,0.1-0.2,0.2-0.3c0.2-0.4,0.5-0.8,0.7-1.2\r\n\t\t\t\tc0-0.1,0.1-0.2,0.1-0.2c0.2-0.4,0.4-0.8,0.6-1.3c0-0.1,0-0.1,0.1-0.2c0.2-0.4,0.3-0.9,0.5-1.4c0-0.1,0-0.2,0.1-0.2\r\n\t\t\t\tc0.1-0.5,0.3-0.9,0.3-1.4c0-0.2,0-0.3,0.1-0.5c0.1-0.4,0.1-0.8,0.2-1.2c0.1-0.6,0.1-1.1,0.1-1.7c0-0.6,0-1.1-0.1-1.7\r\n\t\t\t\tc0-0.4-0.1-0.8-0.2-1.2c0-0.2,0-0.3-0.1-0.5c-0.1-0.5-0.2-0.9-0.3-1.4c0-0.1,0-0.2-0.1-0.2c-0.1-0.5-0.3-0.9-0.5-1.4\r\n\t\t\t\tc0-0.1,0-0.1-0.1-0.2c-0.2-0.4-0.4-0.9-0.6-1.3c0-0.1-0.1-0.2-0.1-0.2c-0.2-0.4-0.4-0.8-0.7-1.2c-0.1-0.1-0.1-0.2-0.2-0.3\r\n\t\t\t\tc-0.3-0.4-0.5-0.8-0.8-1.1c-0.1-0.1-0.1-0.1-0.2-0.2c-0.4-0.4-0.7-0.9-1.2-1.3l-98.9-98.8c-6.7-6.7-17.6-6.7-24.3,0\r\n\t\t\t\tc-6.7,6.7-6.7,17.6,0,24.3l69.6,69.6H136.8c-9.5,0-17.2,7.7-17.2,17.1c0,9.5,7.7,17.2,17.2,17.2h276.8l-69.1,69.1\r\n\t\t\t\tc-6.7,6.7-6.7,17.6,0,24.3c3.3,3.3,7.7,5,12.1,5s8.8-1.7,12.1-5l98.3-98.3C467.5,256.6,467.9,256.2,468.3,255.8z\"\r\n            />\r\n            <path\r\n              d=\"M110.7,34.3h128c9.5,0,17.2-7.7,17.2-17.1c0-9.5-7.7-17.2-17.2-17.2h-128C59.4,0,17.6,41.8,17.6,93.1v303.7\r\n\t\t\t\tc0,51.3,41.8,93.1,93.1,93.1h125.9c9.5,0,17.2-7.7,17.2-17.1c0-9.5-7.7-17.2-17.2-17.2H110.7c-32.4,0-58.8-26.4-58.8-58.8V93.1\r\n\t\t\t\tC52,60.6,78.3,34.3,110.7,34.3z\"\r\n            />\r\n          </g>\r\n        </g>\r\n        <g></g>\r\n        <g></g>\r\n        <g></g>\r\n        <g></g>\r\n        <g></g>\r\n        <g></g>\r\n        <g></g>\r\n        <g></g>\r\n        <g></g>\r\n        <g></g>\r\n        <g></g>\r\n        <g></g>\r\n        <g></g>\r\n        <g></g>\r\n        <g></g>\r\n      </g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default LogoutIcon;\r\n","const FoodBagIcon = () => {\r\n  return <svg version=\"1.1\" id=\"Layer_1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 122.88 116.31\" fill='currentColor'>\r\n    <g>\r\n      <path d=\"M4.06,12.67C1.87,12.67,0,10.8,0,8.51c0-2.19,1.87-4.06,4.06-4.06h5.62c0.1,0,0.31,0,0.42,0c3.75,0.1,7.08,0.83,9.88,2.6 c3.12,1.98,5.41,4.99,6.66,9.47c0,0.1,0,0.21,0.1,0.31L27.78,21h2.34V4.12c0-2.27,1.85-4.12,4.12-4.12h21.67 c2.27,0,4.12,1.85,4.12,4.12v10.02c3.42-3.41,8.06-5.5,13.18-5.5c2.22,0,4.36,0.4,6.34,1.12c4.08-4.33,9.87-7.04,16.29-7.04 c10.96,0,20.07,7.88,21.99,18.28h0.99c2.29,0,4.06,1.87,4.06,4.06c0,0.42-0.11,0.83-0.21,1.25l-10.61,42.76 c-0.42,1.87-2.08,3.12-3.95,3.12l0,0H41.51c1.46,5.41,2.91,8.32,4.89,9.68c2.39,1.56,6.56,1.66,13.53,1.56h0.1l0,0h47.03 c2.29,0,4.06,1.87,4.06,4.06c0,2.29-1.87,4.06-4.06,4.06H60.04l0,0c-8.64,0.1-13.94-0.1-18.21-2.91 c-4.37-2.91-6.66-7.91-8.95-16.96l0,0L18.94,18.92c0-0.1,0-0.1-0.1-0.21c-0.62-2.29-1.66-3.85-3.12-4.68 c-1.46-0.94-3.43-1.35-5.72-1.35c-0.1,0-0.21,0-0.31,0H4.06L4.06,12.67L4.06,12.67z M84.38,37.69c0-1.28,1.27-2.32,2.83-2.32 c1.56,0,2.83,1.04,2.83,2.32v15.69c0,1.28-1.27,2.32-2.83,2.32c-1.56,0-2.83-1.04-2.83-2.32V37.69L84.38,37.69z M67.43,37.69 c0-1.28,1.27-2.32,2.83-2.32c1.56,0,2.83,1.04,2.83,2.32v15.69c0,1.28-1.27,2.32-2.83,2.32c-1.56,0-2.83-1.04-2.83-2.32V37.69 L67.43,37.69z M50.49,37.69c0-1.28,1.27-2.32,2.83-2.32c1.56,0,2.83,1.04,2.83,2.32v15.69c0,1.28-1.27,2.32-2.83,2.32 c-1.56,0-2.83-1.04-2.83-2.32V37.69L50.49,37.69z M85.57,13.37c2.31,2.05,4.14,4.66,5.29,7.63h19.85 c-1.68-6.65-7.7-11.58-14.87-11.58C91.89,9.42,88.29,10.91,85.57,13.37L85.57,13.37z M92.21,29.11L92.21,29.11l-38.01,0l0,0H30.07 l0,0l9.26,34.86h65.65l8.63-34.86H92.21L92.21,29.11z M55.31,21c0.11-0.29,0.23-0.57,0.35-0.85V7.2c0-1.64-1.35-2.99-2.99-2.99 H37.71c-1.64,0-2.99,1.34-2.99,2.99V21H55.31L55.31,21z M94.89,96.33c5.52,0,9.99,4.47,9.99,9.99s-4.47,9.99-9.99,9.99 c-5.51,0-9.99-4.47-9.99-9.99S89.38,96.33,94.89,96.33L94.89,96.33L94.89,96.33z M51.09,96.33c5.51,0,9.99,4.47,9.99,9.99 s-4.47,9.99-9.99,9.99s-9.99-4.47-9.99-9.99S45.57,96.33,51.09,96.33L51.09,96.33L51.09,96.33z\" />\r\n    </g>\r\n  </svg>;\r\n};\r\n\r\nexport default FoodBagIcon;\r\n","const MealsIcon = () => {\r\n  return <svg\r\n    id=\"Layer_1\"\r\n    data-name=\"Layer 1\"\r\n    fill=\"currentColor\"\r\n    viewBox=\"0 0 122.88 123.88\"\r\n  >\r\n    <title>meal-food</title>\r\n    <path d=\"M61.44,0A61.46,61.46,0,1,1,18,18,61.21,61.21,0,0,1,61.44,0ZM52.55,58.42c2.92-2,4.39-4.61,4.14-10.58V32.49c0-2.14-3.92-2.4-4.11,0l-.15,12.45a1.75,1.75,0,1,1-3.5,0l.15-12.88c0-2.3-3.77-2.53-3.81,0,0,3.58-.15,9.31-.15,12.88a1.52,1.52,0,1,1-3,0l.15-12.79A2.09,2.09,0,0,0,39,30.61c-1.38.88-1.1,2.65-1.16,4.15l-.48,14.69c.07,4.27,1.19,7.74,4.54,9.22a8.37,8.37,0,0,0,2,.52L42.77,89.25a3.76,3.76,0,0,0,3.71,3.86h.46a4.24,4.24,0,0,0,4.17-4.34l-1-29.59a6.61,6.61,0,0,0,2.45-.76Zm18,29.75-.05-26.41c-11.29-6.52-7.69-31.64,3.6-31.5,13.72.16,15.35,28.31,3.55,31.4l.87,26.64c.17,6.13-8,6.7-8-.13ZM99.29,23.59A53.52,53.52,0,1,0,115,61.44,53.36,53.36,0,0,0,99.29,23.59Z\" />\r\n  </svg>;\r\n};\r\n\r\nexport default MealsIcon;\r\n","import LogoutIcon from \"../../assets/LogoutIcon\";\r\nimport classes from \"./SideMenu.module.css\";\r\nimport firebase from \"firebase/app\";\r\nimport { useContext } from \"react\";\r\nimport userContext from \"../../store/user-context\";\r\nimport HeaderGeneralButton from \"../Auth/HeaderLoginButton\";\r\nimport FoodBagIcon from \"../../assets/FoodBagIcon\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport MealsIcon from \"../../assets/MealsIcon\";\r\n\r\nconst SideMenu = (props) => {\r\n    const userCtx = useContext(userContext);\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n\r\n    const inOrdersPage = location.pathname === \"/orders\";\r\n  const addedClasses =\r\n    classes[\"side-menu\"] + \" \" + (props.open ? classes.open : \"\");\r\n    const logoutUser = () => {\r\n        props.onCloseMenu();\r\n        firebase\r\n          .auth()\r\n          .signOut()\r\n          .catch((err) => {\r\n            console.log(err);\r\n          })\r\n          .then(() => {\r\n            userCtx.clearUser();\r\n          });\r\n        \r\n      };\r\n    const goToOrders = async () => {\r\n      props.onCloseMenu();\r\n      history.push(\"/orders\");\r\n    };\r\n    const goToMeals = () => {\r\n      props.onCloseMenu();\r\n      history.push(\"/\");\r\n    }\r\n  return (\r\n    <div className={addedClasses}>\r\n        <span className={classes.title}>\r\n            <h4>\r\n            Hi {userCtx.name}!\r\n            </h4>\r\n        </span>\r\n        {!inOrdersPage ? <HeaderGeneralButton onClick={goToOrders} title=\"Orders\" icon={<FoodBagIcon></FoodBagIcon>}></HeaderGeneralButton> : \r\n        <HeaderGeneralButton onClick={goToMeals} title=\"Meals\" icon={<MealsIcon></MealsIcon>}></HeaderGeneralButton>}\r\n        <span className={classes['buttons-space']}></span>\r\n      <HeaderGeneralButton onClick={logoutUser} title=\"Logout\" icon={<LogoutIcon></LogoutIcon>}></HeaderGeneralButton>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SideMenu;\r\n","const LoginIcon = () => {\r\n  return (\r\n    <svg\r\n      version=\"1.1\"\r\n      id=\"Capa_1\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      x=\"0px\"\r\n      y=\"0px\"\r\n      viewBox=\"0 0 481.5 481.5\"\r\n      fill='currentColor'\r\n    >\r\n      <g>\r\n        <g>\r\n          <path\r\n            d=\"M0,240.7c0,7.5,6,13.5,13.5,13.5h326.1l-69.9,69.9c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4l93-93\r\n\t\t\tc5.3-5.3,5.3-13.8,0-19.1l-93-93c-5.3-5.3-13.8-5.3-19.1,0c-5.3,5.3-5.3,13.8,0,19.1l69.9,69.9h-326C6,227.2,0,233.2,0,240.7z\"\r\n          />\r\n          <path\r\n            d=\"M382.4,0H99C44.4,0,0,44.4,0,99v58.2c0,7.5,6,13.5,13.5,13.5s13.5-6,13.5-13.5V99c0-39.7,32.3-72,72-72h283.5\r\n\t\t\tc39.7,0,72,32.3,72,72v283.5c0,39.7-32.3,72-72,72H99c-39.7,0-72-32.3-72-72V325c0-7.5-6-13.5-13.5-13.5S0,317.5,0,325v57.5\r\n\t\t\tc0,54.6,44.4,99,99,99h283.5c54.6,0,99-44.4,99-99V99C481.4,44.4,437,0,382.4,0z\"\r\n          />\r\n        </g>\r\n      </g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n      <g></g>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default LoginIcon;\r\n","import { Fragment, useContext, useEffect, useState } from \"react\";\r\n\r\nimport headerImage from \"../../assets/food-table2.jpg\";\r\nimport HeaderCartButton from './HeaderCartButton';\r\nimport classes from \"./Header.module.css\";\r\nimport HeaderGeneralButton from \"../Auth/HeaderLoginButton\";\r\n\r\nimport userContext from '../../store/user-context';\r\n\r\nimport Burger from \"./Burger\";\r\nimport SideMenu from \"./SideMenu\";\r\nimport LoginIcon from \"../../assets/LoginIcon\";\r\n\r\nconst Header = (props) => {\r\n  const userCtx = useContext(userContext);\r\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n\r\n  const [isLoggedIn, setIsLoggedIn] = useState(userCtx.isLoggedIn);\r\n \r\n  const onMenuClickHandler = () => {\r\n    setIsMenuOpen(!isMenuOpen);\r\n  }\r\n  useEffect(() => {\r\n    setIsLoggedIn(userCtx.isLoggedIn);\r\n  },[userCtx])\r\n\r\n  return (\r\n    <Fragment>\r\n      <header className={classes.header}>\r\n      { !isLoggedIn && <HeaderGeneralButton className={classes['left-button']} onClick={props.onShowLogin} icon={<LoginIcon></LoginIcon>} title=\"Login\"/> }\r\n      { isLoggedIn &&  \r\n      <span><Burger open={isMenuOpen} onClick={onMenuClickHandler}></Burger></span>}\r\n      <SideMenu onCloseMenu={onMenuClickHandler} open={isMenuOpen}></SideMenu>\r\n        <h1 className={classes.title}>Order It</h1>\r\n        <HeaderCartButton className={classes['right-button']} onClick={props.onShowCart}></HeaderCartButton>\r\n      </header>\r\n      <div className={classes['main-image']}>\r\n          <img src={headerImage} alt=\"ORDER FOOD! NOW!\"/>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import classes from \"./MealsSummary.module.css\";\r\n\r\nconst MealsSummery = () => {\r\n    return <section className={classes.summary}>\r\n        <h2>Your Meal, Your style!</h2>\r\n        <p>Choose any meal from the list!</p>\r\n        <p>All the meals are top notch so dont be afraid to try new stuff!</p>\r\n    </section>\r\n};\r\n\r\nexport default MealsSummery;","import classes from './Card.module.css';\r\n\r\nconst Card = props => {\r\n    return <div className={classes.card}>{props.children}</div>\r\n};\r\n\r\nexport default Card;","export default __webpack_public_path__ + \"static/media/food-table.cdf7f93b.jpg\";","import classes from \"./Input.module.css\";\r\nimport React from 'react';\r\n\r\nconst Input = React.forwardRef((props, ref) => {\r\n    const inputClasses = classes.input + ` ${props.invalid ? classes.invalid : ''}`\r\n    return (\r\n        <div className={inputClasses}>\r\n            <label htmlFor={props.input.id} className={classes.label}>{props.label}</label>\r\n            <input ref={ref} {...props.input}></input>\r\n        </div>\r\n    )\r\n});\r\n\r\nexport default Input;","import { useRef, useState } from 'react';\r\nimport Input from '../../UI/Input';\r\nimport classes from './MealItemForm.module.css';\r\n\r\nconst MealItemForm = props => {\r\n    const [amountIsValid, setAmountIsValid] = useState(true);\r\n    const amountInputRef = useRef();\r\n    const submitHandler = event => {\r\n        event.preventDefault();\r\n        \r\n        const enteredAmount = amountInputRef.current.value;\r\n        const enteredAmountNumber = +enteredAmount;\r\n        if (enteredAmount.trim().length === 0 || enteredAmountNumber < 1 || enteredAmountNumber > 30) {\r\n            setAmountIsValid(false);\r\n            return;\r\n        }\r\n        props.onAddToCart(enteredAmountNumber);\r\n    }\r\n    return <form className={classes.form}>\r\n        <Input\r\n        ref={amountInputRef}\r\n         input={{\r\n            id: 'amount_' + props.id,\r\n            type: 'number',\r\n            min: '1',\r\n            max: '30',\r\n            step: '1',\r\n            defaultValue: '1'\r\n        }}></Input>\r\n        <button onClick={submitHandler}>+</button>\r\n        {!amountIsValid && <p>Please enter a valid amount (1-5)</p> }\r\n    </form>\r\n}\r\n\r\nexport default MealItemForm;","import classes from \"./MealItem.module.css\";\r\nimport headerImage from \"../../../assets/food-table.jpg\";\r\nimport { useContext, useState } from \"react\";\r\nimport MealItemForm from \"./MealItemForm\";\r\nimport cartContext from \"../../../store/cart-context\";\r\n\r\nconst MealItem = (props) => {\r\n  const cartCtx = useContext(cartContext);\r\n\r\n  const [mouseDown, setMouseDown] = useState(false);\r\n  const price = `$${props.price.toFixed(2)}`;\r\n  let liClasses = classes[\"meal-item\"];\r\n  if (mouseDown) {\r\n    liClasses += ` ${classes[\"mouse-down-active\"]}`;\r\n  }\r\n\r\n  const addToCartHandler = (amount) => {\r\n    cartCtx.addItem({\r\n      id: props.id,\r\n      name: props.name,\r\n      amount:amount,\r\n      price: props.price\r\n    })\r\n  };\r\n  const handleMouseMovement = (event) => {\r\n    if (event.type === \"mousedown\") {\r\n      setMouseDown(true);\r\n    } else {\r\n      setMouseDown(false);\r\n    }\r\n  };\r\n  return (\r\n    <li\r\n      onMouseDown={handleMouseMovement}\r\n      onMouseLeave={handleMouseMovement}\r\n      onMouseUp={handleMouseMovement}\r\n      className={liClasses}\r\n    >\r\n      <div className={classes[\"meal-image-box\"]}>\r\n        <img className={classes[\"meal-image\"]} alt=\"Meal\" src={props.image || headerImage} />\r\n      </div>\r\n      <div className={classes[\"meal-data\"]}>\r\n        <div className={classes[\"meal-header\"]}>\r\n          <h3 className={classes[\"meal-price\"]}>{price}</h3>\r\n          <h3 className={classes[\"meal-name\"]}>{props.name}</h3>{\" \"}\r\n        </div>\r\n      </div>\r\n      <div className={classes[\"meal-description\"]}>{props.description}</div>\r\n      <div className={classes[\"meal-bottom\"]}>\r\n        <MealItemForm id={props.id} onAddToCart={addToCartHandler}></MealItemForm>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default MealItem;\r\n","import classes from \"./AvailableMeals.module.css\";\r\nimport Card from \"../UI/Card\";\r\nimport MealItem from \"./MealItem/MealItem\";\r\nimport ScrollMenu from \"react-horizontal-scrolling-menu\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nconst AvailableMeals = () => {\r\n  const [allMeals, setAllMeals] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState();\r\n\r\n  useEffect(() => {\r\n    const fetchMeals = async () => {\r\n      setIsLoading(true);\r\n      const response = await fetch(\r\n        \"https://order-it-6fb76-default-rtdb.europe-west1.firebasedatabase.app/meals.json\"\r\n      );\r\n      if (!response.ok) {\r\n        throw new Error(\"Something went wrong!\");\r\n      }\r\n      setError(null);\r\n      const meals = await response.json();\r\n      const tempAllMeals = [];\r\n      Object.keys(meals).forEach((mealId) => {\r\n        tempAllMeals.push({\r\n          id: mealId,\r\n          name: meals[mealId].name,\r\n          description: meals[mealId].description,\r\n          price: meals[mealId].price,\r\n          category: meals[mealId].category,\r\n          image: meals[mealId].image\r\n        });\r\n      });\r\n      setAllMeals(tempAllMeals);\r\n      setIsLoading(false);\r\n    };\r\n    fetchMeals().catch((err) => {\r\n      setIsLoading(false);\r\n      setError(err.message);\r\n    });\r\n  }, []);\r\n  if (isLoading) {\r\n    return (\r\n      <section className={classes.MealsLoading}>\r\n        <p>Loading...</p>\r\n      </section>\r\n    );\r\n  }\r\n  if (error) {\r\n    return (\r\n      <section className={classes.MealsError}>\r\n        <p>{error}</p>\r\n      </section>\r\n    );\r\n  }\r\n  const mealsByCategory = {};\r\n  allMeals.forEach((meal) => {\r\n    if (!meal.category) {\r\n      meal.category = \"Misc.\";\r\n    }\r\n    if (!mealsByCategory[meal.category]) {\r\n      mealsByCategory[meal.category] = [];\r\n    }\r\n    mealsByCategory[meal.category].push(\r\n      <MealItem\r\n        key={meal.id}\r\n        id={meal.id}\r\n        name={meal.name}\r\n        description={meal.description}\r\n        price={meal.price}\r\n        image={meal.image}\r\n      ></MealItem>\r\n    );\r\n  });\r\n  const categoriesForUI = [];\r\n  Object.keys(mealsByCategory).forEach((category) => {\r\n    categoriesForUI.push(<Card key={category}>\r\n      <h1 className={classes.category}>{category}</h1>\r\n      <ScrollMenu inertiaScrollingSlowdown={0.7} inertiaScrolling={true} alignOnResize={false} wheel={false} data={mealsByCategory[category]}></ScrollMenu>\r\n    </Card>);\r\n  });\r\n  return (\r\n    <section className={classes.meals}>\r\n      {categoriesForUI}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default AvailableMeals;\r\n","import { Fragment } from \"react\";\r\nimport MealsSummery from './MealsSummery';\r\nimport AvailableMeals from './AvailableMeals';\r\n\r\nconst Meals = () => {\r\n    return <Fragment>\r\n        <MealsSummery></MealsSummery>\r\n        <AvailableMeals></AvailableMeals>\r\n    </Fragment>\r\n}\r\n\r\nexport default Meals;","import { useReducer } from \"react\";\r\n\r\nimport CartContext from \"./cart-context\";\r\n\r\nconst defaultCartState = {\r\n  items: [],\r\n  totalAmount: 0,\r\n};\r\n\r\nconst cartReducer = (state, action) => {\r\n  if (action.type === \"ADD\") {\r\n    const newTotalAmount =\r\n      state.totalAmount + action.item.price * action.item.amount;\r\n    const existingCartItemIndex = state.items.findIndex(\r\n      (item) => item.id === action.item.id\r\n    );\r\n    const existingCartItem = state.items[existingCartItemIndex];\r\n    let updatedItems;\r\n    if (existingCartItem) {\r\n      let updatedItem;\r\n      updatedItem = {\r\n        ...existingCartItem,\r\n        amount: existingCartItem.amount + action.item.amount,\r\n        // price: existingCartItem.price + action.item.price*action.item.amount\r\n      };\r\n      updatedItems = [...state.items];\r\n      updatedItems[existingCartItemIndex] = updatedItem;\r\n    } else {\r\n      updatedItems = state.items.concat(action.item);\r\n    }\r\n    return {\r\n      items: updatedItems,\r\n      totalAmount: newTotalAmount,\r\n    };\r\n  }\r\n  if (action.type === \"REMOVE\") {\r\n    const existingCartItemIndex = state.items.findIndex(\r\n      (item) => item.id === action.id\r\n    );\r\n    const existingCartItem = state.items[existingCartItemIndex];\r\n    const newTotalAmount = state.totalAmount - existingCartItem.price;\r\n    let updatedItems;\r\n    if (existingCartItem.amount === 1) {\r\n        updatedItems = state.items.filter(item => item.id !== action.id); \r\n    } else {\r\n        const updatedItem = {...existingCartItem, amount: existingCartItem.amount -1}\r\n        updatedItems = [...state.items];\r\n        updatedItems[existingCartItemIndex] = updatedItem;\r\n    }\r\n    return {\r\n        items: updatedItems,\r\n        totalAmount: newTotalAmount,\r\n      };\r\n  }\r\n  if (action.type === \"CLEAR\") {\r\n      return defaultCartState;\r\n  }\r\n  return defaultCartState;\r\n};\r\nconst CartProvider = (props) => {\r\n  const [cartState, dispatchCartAction] = useReducer(\r\n    cartReducer,\r\n    defaultCartState\r\n  );\r\n\r\n  const addItemToCartHandler = (item) => {\r\n    dispatchCartAction({ type: \"ADD\", item: item });\r\n  };\r\n  const removeItemFromCartHandler = (id) => {\r\n    dispatchCartAction({ type: \"REMOVE\", id: id });\r\n  };\r\n  const clearCartHandler = () => {\r\n      dispatchCartAction({type: \"CLEAR\"});\r\n  };\r\n  const cartContext = {\r\n    items: cartState.items,\r\n    totalAmount: cartState.totalAmount,\r\n    addItem: addItemToCartHandler,\r\n    removeItem: removeItemFromCartHandler,\r\n    clearCart: clearCartHandler\r\n  };\r\n\r\n  return (\r\n    <CartContext.Provider value={cartContext}>\r\n      {props.children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n\r\nexport default CartProvider;\r\n","import classes from \"./Loader.module.css\";\r\n\r\nconst Loader = () => {\r\n  return <div className={classes.loader}>\r\n    <div></div>\r\n    <div></div>\r\n    <div></div>\r\n  </div>;\r\n};\r\n\r\nexport default Loader;\r\n","import { Fragment, useContext, useRef, useState } from \"react\";\r\nimport Input from \"../UI/Input\";\r\nimport Modal from \"../UI/Modal\";\r\nimport classes from \"./Login.module.css\";\r\nimport firebase from \"firebase/app\";\r\nimport 'firebase/auth';\r\nimport userContext from \"../../store/user-context\";\r\nimport Loader from \"../UI/Loader\";\r\nimport UserModel from \"../../model/UserModel\";\r\n\r\nfunction isEmail(val) {\r\n  let regEmail = /^[a-zA-Z0-9]+@(?:[a-zA-Z0-9]+\\.)+[A-Za-z]+$/;\r\n  return regEmail.test(val);\r\n}\r\nfunction passwordValid(password) {\r\n  return password.trim().length > 5;\r\n}\r\nfunction confirmPasswordValid(password, confirmPassword) {\r\n  return password.trim() === confirmPassword.trim();\r\n}\r\nfunction notEmpty(val) {\r\n  return val.trim().length > 0;\r\n}\r\nconst Login = (props) => {\r\n  const userCtx = useContext(userContext);\r\n  const [isLogin, setIsLogin] = useState(true);\r\n  const [isLoggingIn, setIsLoggingIn] = useState(false);\r\n  const [errorText, setErrorText] = useState(\"\");\r\n  const [emailInvalid, setEmailInvalid] = useState(false);\r\n  const [passwordInvalid, setPasswordInvalid] = useState(false);\r\n  const [confirmPasswordInvalid, setConfirmPasswordInvalid] = useState(false);\r\n  const [firstNameInvalid, setFirstNameInvalid] = useState(false);\r\n  const [lastNameInvalid, setLastNameInvalid] = useState(false);\r\n  const passwordRef = useRef();\r\n  const emailRef = useRef();\r\n  const confimPasswordRef = useRef();\r\n  const firstNameRef = useRef();\r\n  const lastNameRef = useRef();\r\n  const switchAuthModeHandler = () => {\r\n    resetForm();\r\n    setIsLogin((prevState) => !prevState);\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setErrorText(null);\r\n    setEmailInvalid(false);\r\n    setPasswordInvalid(false);\r\n    setConfirmPasswordInvalid(false);\r\n    setFirstNameInvalid(false);\r\n    setLastNameInvalid(false);\r\n  };\r\n  const confirmHandler = (event) => {\r\n    event.preventDefault();\r\n    resetForm();\r\n    const email = emailRef.current.value;\r\n    const password = passwordRef.current.value;\r\n    if (isLogin) {\r\n      const loginFormValid = isLoginFormValid(email, password);\r\n      if (!loginFormValid) {\r\n        return;\r\n      }\r\n      loginHandler(email, password);\r\n      return;\r\n    }\r\n    const confirmPassword = confimPasswordRef.current.value;\r\n    const firstName = firstNameRef.current.value;\r\n    const lastName = lastNameRef.current.value;\r\n    const userObject = {\r\n      email,\r\n      password,\r\n      confirmPassword,\r\n      firstName,\r\n      lastName,\r\n    };\r\n    const registerFormValid = isRegisterFormValid(userObject);\r\n    if (!registerFormValid) {\r\n      return;\r\n    }\r\n    registerHandler(userObject);\r\n    return;\r\n  };\r\n  const isLoginFormValid = (email, password) => {\r\n    const emailIsValid = isEmail(email);\r\n    setEmailInvalid(!emailIsValid);\r\n    if (!emailIsValid) {\r\n      setErrorText(\"Email Invalid\");\r\n      return false;\r\n    }\r\n    const passwordIsValid = passwordValid(password);\r\n    setPasswordInvalid(!passwordIsValid);\r\n    if (!passwordIsValid) {\r\n      setErrorText(\"Password Must be at least 6 characters\");\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n  const isRegisterFormValid = ({\r\n    email,\r\n    password,\r\n    confirmPassword,\r\n    firstName,\r\n    lastName,\r\n  }) => {\r\n    const emailIsValid = isEmail(email);\r\n    const passwordIsValid = passwordValid(password);\r\n    const confirmPasswordIsValid = confirmPasswordValid(\r\n      password,\r\n      confirmPassword\r\n    );\r\n    const firstNameIsValid = notEmpty(firstName);\r\n    const lastNameIsValid = notEmpty(lastName);\r\n    setEmailInvalid(!emailIsValid);\r\n    if (!emailIsValid) {\r\n      setErrorText(\"Email Invalid\");\r\n      return false;\r\n    }\r\n    setPasswordInvalid(!passwordIsValid);\r\n    if (!passwordIsValid) {\r\n      setErrorText(\"Password Must be at least 6 characters\");\r\n      return false;\r\n    }\r\n    setConfirmPasswordInvalid(!confirmPasswordIsValid);\r\n    if (!confirmPasswordIsValid) {\r\n      setErrorText(\"Confirm Password doesn't match\");\r\n      return false;\r\n    }\r\n    setFirstNameInvalid(!firstNameIsValid);\r\n    if (!firstNameIsValid) {\r\n      setErrorText(\"First Name Can't Be Empty\");\r\n      return false;\r\n    }\r\n    setLastNameInvalid(!lastNameIsValid);\r\n    if (!lastNameIsValid) {\r\n      setErrorText(\"Last Name Can't Be Empty\");\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n  const loginHandler = async (email, password) => {\r\n    setIsLoggingIn(true);\r\n    const loginResponse = await firebase\r\n      .auth()\r\n      .signInWithEmailAndPassword(email, password)\r\n      .catch((err) => {\r\n        setIsLoggingIn(false);\r\n        setEmailInvalid(true);\r\n        setPasswordInvalid(true);\r\n        setErrorText(\"Email or Password are incorrect\");\r\n      });\r\n    if (loginResponse) {\r\n      setIsLoggingIn(false);\r\n      let user = loginResponse.user;\r\n      const tokenData = await user.getIdTokenResult();\r\n      const expirationTime = new Date(tokenData.expirationTime);\r\n      let userData = await UserModel.getUserfromRealTime(user.uid);\r\n      userData = await userData.json();\r\n      console.log(userData)\r\n      userCtx.setUser({\r\n        name: user.displayName,\r\n        id: user.uid,\r\n        email: user.email,\r\n        street: userData.street,\r\n        city: userData.city,\r\n        postal: userData.postal,\r\n        token: tokenData.token,\r\n      }, expirationTime);\r\n      props.onClose()\r\n    }\r\n  };\r\n\r\n  const registerHandler = async ({ email, password, firstName, lastName }) => {\r\n    setIsLoggingIn(true);\r\n    const registerResponse = await firebase\r\n      .auth()\r\n      .createUserWithEmailAndPassword(email, password).catch((err) => {\r\n        setIsLoggingIn(false);;\r\n        setEmailInvalid(true);\r\n        setErrorText(err.message);\r\n      });;\r\n    if (registerResponse) {\r\n      setIsLoggingIn(false);\r\n      let user = registerResponse.user;\r\n      const token = await user.getIdToken();\r\n      await user.updateProfile({\r\n        displayName: `${firstName} ${lastName}`,\r\n      });\r\n      user = firebase.auth().currentUser;\r\n      console.log(\"qgwasv\")\r\n      await UserModel.addUserToRealTime(user.uid, {first_name: firstName, last_name: lastName, email})\r\n      const tokenData = await user.getIdTokenResult();\r\n      const expirationTime = new Date(tokenData.expirationTime);\r\n      userCtx.setUser({\r\n        name: user.displayName,\r\n        id: user.uid,\r\n        email: user.email,\r\n        token: token,\r\n      }, expirationTime);\r\n      props.onClose()\r\n    }\r\n  };\r\n  \r\n  const registerInputs = (\r\n    <Fragment>\r\n      <div className={classes.control}>\r\n        <Input\r\n          label=\"Confirm Password\"\r\n          invalid={confirmPasswordInvalid}\r\n          ref={confimPasswordRef}\r\n          input={{\r\n            id: \"confirm-password\",\r\n            type: \"password\",\r\n            required: true,\r\n            minLength: 6,\r\n          }}\r\n        />\r\n      </div>\r\n      <div className={classes.control}>\r\n        <Input\r\n          label=\"First Name\"\r\n          invalid={firstNameInvalid}\r\n          ref={firstNameRef}\r\n          input={{ id: \"first-name\", type: \"text\", required: true }}\r\n        />\r\n      </div>\r\n      <div className={classes.control}>\r\n        <Input\r\n          label=\"Last Name\"\r\n          invalid={lastNameInvalid}\r\n          ref={lastNameRef}\r\n          input={{ id: \"last-name\", type: \"text\", required: true }}\r\n        />\r\n      </div>\r\n    </Fragment>\r\n  );\r\n  const buttonClasses = classes['login-button'] + ' ' + (isLoggingIn ? classes.disabled : '' );\r\n  return (\r\n    <Modal onClose={props.onClose} className={classes.auth}>\r\n      <h1 className={classes.title}>{isLogin ? \"Login\" : \"Sign Up\"}</h1>\r\n      <form className={classes.form} onSubmit={confirmHandler}>\r\n        <div className={classes.control}>\r\n          <Input\r\n            label=\"Email\"\r\n            ref={emailRef}\r\n            invalid={emailInvalid}\r\n            input={{ id: \"email\", type: \"email\", required: true }}\r\n          />\r\n        </div>\r\n        <div className={classes.control}>\r\n          <Input\r\n            label=\"Password\"\r\n            ref={passwordRef}\r\n            invalid={passwordInvalid}\r\n            input={{\r\n              id: \"password\",\r\n              type: \"password\",\r\n              required: true,\r\n              minLength: 6,\r\n            }}\r\n          />\r\n        </div>\r\n        {!isLogin && registerInputs}\r\n        {errorText && (\r\n          <div className={classes[\"error-text\"]}>\r\n            <label>{errorText}</label>\r\n          </div>\r\n        )}\r\n        <div className={classes.actions}>\r\n          {!isLoggingIn ? <button className={buttonClasses} >{isLogin ? \"Login\" : \"Register\"}</button> : <button disabled className={buttonClasses}><Loader></Loader></button> }\r\n          <button\r\n            type=\"button\"\r\n            className={classes.toggle}\r\n            onClick={switchAuthModeHandler}\r\n          >\r\n            {isLogin ? \"Create new account\" : \"Login with existing account\"}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","const OrdersModel = {\r\n    getOrdersByUserId(id) {\r\n        return fetch(\r\n          `https://order-it-6fb76-default-rtdb.europe-west1.firebasedatabase.app/orders.json?orderBy=\"user_id\"&startAt=\"${id}\"&endAt=\"${id}\"`\r\n        );\r\n      },\r\n}\r\n\r\nexport default OrdersModel;","import classes from \"./OrderSummery.module.css\";\r\n\r\nconst OrderSummery = (props) => {\r\n  const addedClasses = classes.summary + \" \" + props.addedClasses;\r\n  let totalCost = 0;\r\n  const items = [];\r\n  props.orderedItems.forEach((item) => {\r\n    totalCost += item.price * item.amount;\r\n    items.push(\r\n      <tr key={item.name}>\r\n        <td>{item.name} </td><td>X{item.amount}</td>\r\n      </tr>\r\n    );\r\n  });\r\n  totalCost = totalCost.toFixed(2);\r\n  return (\r\n    <section className={addedClasses}>\r\n      <div className={classes['summery-items']}>\r\n        <table><tbody>{items}</tbody></table>\r\n        <div className={classes['summery-total']}>\r\n        <span>Total Cost: </span>\r\n        <span >{totalCost}$</span>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default OrderSummery;\r\n","import classes from \"./Orders.module.css\";\r\nimport { Fragment, useCallback, useContext, useEffect, useState } from \"react\";\r\nimport OrdersModel from \"../../model/OrdersModel\";\r\nimport userContext from \"../../store/user-context\";\r\nimport OrderSummery from './OrderSummery';\r\n\r\nconst Orders = () => {\r\n\r\n    const [orders, setOrders] = useState([]);\r\n    const userCtx = useContext(userContext);\r\n\r\n    const getOrders = useCallback(async () => {\r\n        const ordersResponse = await OrdersModel.getOrdersByUserId(userCtx.id);\r\n        const responseJson = await ordersResponse.json();\r\n        const currentOrders = [];\r\n        Object.keys(responseJson).forEach(orderId => {\r\n            currentOrders.push(responseJson[orderId].orderedItems);\r\n        });\r\n        setOrders(currentOrders);\r\n    }, [userCtx.id]);\r\n    useEffect(() => {\r\n        getOrders()\r\n    },[getOrders])\r\n\r\n    let ordersContent = [];\r\n    for (let i = 0; i < orders.length; i++) {\r\n        let ordersSummeryClasses = '';\r\n        if (i === 0) {\r\n            ordersSummeryClasses += classes['first-summery'];\r\n        }\r\n        ordersContent.push(<OrderSummery key={i} addedClasses={ordersSummeryClasses} orderedItems={orders[i]}></OrderSummery>);\r\n    }\r\n    return <Fragment>\r\n        {ordersContent}\r\n    </Fragment>\r\n}\r\n\r\nexport default Orders;","import { useEffect, useState, useContext } from \"react\";\nimport Cart from \"./components/Cart/Cart\";\nimport Header from \"./components/Layout/Header\";\nimport Meals from \"./components/Meals/Meals\";\nimport CartProvider from \"./store/CartProvider\";\nimport Login from \"./components/Auth/Login\";\nimport firebase from \"firebase/app\";\nimport { Redirect, Route, Switch } from \"react-router\";\nimport userContext from \"./store/user-context\";\nimport Orders from \"./components/Orders/Orders\";\n\nfunction App() {\n  const [cartIsShown, setCartIsShown] = useState(false);\n  const [loginIsShown, setLoginIsShown] = useState(false);\n  const userCtx = useContext(userContext);\n\n  useEffect(() => {\n    const firebaseConfig = {\n      apiKey: \"AIzaSyAuqDv8VgXAc-fkm-Lw0gP7RNnE53GpfJM\",\n      authDomain: \"order-it-6fb76.firebaseapp.com\",\n      databaseURL:\n        \"https://order-it-6fb76-default-rtdb.europe-west1.firebasedatabase.app\",\n      projectId: \"order-it-6fb76\",\n      storageBucket: \"order-it-6fb76.appspot.com\",\n      messagingSenderId: \"216157103677\",\n      appId: \"1:216157103677:web:65d7f3643b0a94629fac54\",\n    };\n\n    if (!firebase.apps.length) {\n      firebase.initializeApp(firebaseConfig);\n    } else {\n      firebase.app();\n    }\n  }, []);\n\n  const showCartHandler = () => {\n    setCartIsShown(true);\n  };\n\n  const hideCartHandler = () => {\n    setCartIsShown(false);\n  };\n\n  const showLoginHandler = () => {\n    setLoginIsShown(true);\n  };\n\n  const hideLoginHandler = () => {\n    setLoginIsShown(false);\n  };\n\n  // the orders path should be previous orders\n\n  return (\n    <CartProvider>\n      {cartIsShown && <Cart showLogin={showLoginHandler} onClose={hideCartHandler}></Cart>}\n      {loginIsShown && <Login onClose={hideLoginHandler}></Login>}\n      <Header\n        onShowCart={showCartHandler}\n        onShowLogin={showLoginHandler}\n      ></Header>\n      <main>\n        <Switch>\n          <Route path=\"/\" exact>\n            <Meals></Meals>\n          </Route>\n          {userCtx.isLoggedIn && (\n            <Route path=\"/orders\" exact>\n              <Orders></Orders>\n            </Route>\n          )}\n          <Route path=\"*\">\n            <Redirect to=\"/\" />\n          </Route>\n        </Switch>\n      </main>\n    </CartProvider>\n  );\n}\n\nexport default App;\n","import { useEffect, useReducer } from \"react\";\r\n\r\nimport UserContext from \"./user-context\";\r\n\r\nconst defaultUserData = {\r\n  id: null,\r\n  name: null,\r\n  email: null,\r\n  street: null,\r\n  city: null,\r\n  postal: null,\r\n  photoUrl: null,\r\n  token: null,\r\n  isLoggedIn: false,\r\n};\r\n\r\nlet logoutTimer;\r\n\r\nconst userReducer = (state, action) => {\r\n  if (action.type === \"SET_USER\") {\r\n    const updatedUser = {};\r\n    updatedUser.id = action.user.id;\r\n    updatedUser.name = action.user.name;\r\n    updatedUser.email = action.user.email;\r\n    updatedUser.photoUrl = action.user.photoUrl;\r\n    updatedUser.token = action.user.token;\r\n    updatedUser.city = action.user.city;\r\n    updatedUser.postal = action.user.postal;\r\n    updatedUser.street = action.user.street;\r\n    updatedUser.isLoggedIn = true;\r\n    localStorage.setItem(\"user\", JSON.stringify(updatedUser));\r\n    localStorage.setItem(\"tokenExpirationTime\", action.expirationTime);\r\n    return updatedUser;\r\n  }\r\n  if (action.type === \"UPDATE_USER\") {\r\n    const updatedUser = {...state, ...action.user};\r\n    localStorage.setItem(\"user\", JSON.stringify(updatedUser));\r\n    return updatedUser;\r\n  }\r\n  if (action.type === \"LOGOUT\") {\r\n    localStorage.removeItem(\"user\");\r\n    localStorage.removeItem(\"tokenExpirationTime\");\r\n    if (logoutTimer) {\r\n      clearTimeout(logoutTimer);\r\n    }\r\n    return defaultUserData;\r\n  }\r\n\r\n  return defaultUserData;\r\n};\r\n\r\nconst calculateRemainingTime = (expirationTime) => {\r\n  const currentTime = new Date().getTime();\r\n  const adjExpirationTime = new Date(expirationTime).getTime();\r\n\r\n  const remainingDuration = adjExpirationTime - currentTime;\r\n\r\n  return remainingDuration;\r\n};\r\n\r\nconst retrieveStoredToken = () => {\r\n  let storedUser = localStorage.getItem(\"user\");\r\n  if (storedUser) {\r\n    storedUser = JSON.parse(storedUser);\r\n  }\r\n  const storedExpirationDate = localStorage.getItem(\"tokenExpirationTime\");\r\n\r\n  const remainingTime = calculateRemainingTime(storedExpirationDate);\r\n\r\n  if (remainingTime <= 3600) {\r\n    localStorage.removeItem(\"user\");\r\n    localStorage.removeItem(\"tokenExpirationTime\");\r\n    return null;\r\n  }\r\n\r\n  return {\r\n    user: storedUser,\r\n    duration: remainingTime,\r\n  };\r\n};\r\n\r\nconst UserProvider = (props) => {\r\n  const storedUserAndExpToken = retrieveStoredToken();\r\n\r\n  let initialUser;\r\n  if (storedUserAndExpToken) {\r\n    initialUser = storedUserAndExpToken.user;\r\n  }\r\n\r\n  const isUserLoggedIn = !!initialUser;\r\n\r\n  const defaultOfStorageUser = initialUser || defaultUserData;\r\n\r\n  const [userState, dispatchUserAction] = useReducer(\r\n    userReducer,\r\n    defaultOfStorageUser\r\n  );\r\n\r\n  const setUserHandler = (user, expirationTime) => {\r\n    const remainingTime = calculateRemainingTime(expirationTime);\r\n    dispatchUserAction({ type: \"SET_USER\", user: user, expirationTime });\r\n    logoutTimer = setTimeout(clearUserHandler, remainingTime);\r\n  };\r\n\r\n  const clearUserHandler = () => {\r\n    dispatchUserAction({ type: \"LOGOUT\" });\r\n  };\r\n  const updateUserHandler = (user) => {\r\n    dispatchUserAction({ type: \"UPDATE_USER\", user });\r\n  };\r\n  const userContext = {\r\n    id: userState.id,\r\n    name: userState.name,\r\n    email: userState.email,\r\n    street: userState.street,\r\n    city: userState.city,\r\n    postal: userState.postal,\r\n    photoUrl: userState.photoUrl,\r\n    token: userState.token,\r\n    isLoggedIn: isUserLoggedIn,\r\n    setUser: setUserHandler,\r\n    clearUser: clearUserHandler,\r\n    updateUser: updateUserHandler\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (storedUserAndExpToken) {\r\n      logoutTimer = setTimeout(\r\n        clearUserHandler,\r\n        storedUserAndExpToken.duration\r\n      );\r\n    }\r\n  }, [storedUserAndExpToken]);\r\n  return (\r\n    <UserContext.Provider value={userContext}>\r\n      {props.children}\r\n    </UserContext.Provider>\r\n  );\r\n};\r\n\r\nexport default UserProvider;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport UserProvider from \"./store/UserProvider\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <UserProvider>\n      <BrowserRouter>\n        <App /> \n      </BrowserRouter>\n    </UserProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}